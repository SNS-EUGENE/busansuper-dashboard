# 개발 로드맵 (TODO)
📅 작성일: 2025-11-03
🎯 목표: 완전한 재고관리 시스템 구축

---

## 🚀 1순위: 데이터 분석 페이지 (필수)
**예상 소요**: 1-2주
**난이도**: 중상
**중요도**: ⭐⭐⭐⭐⭐

### 할 일
- [ ] 차트 라이브러리 선택 및 설치
  - 옵션 1: **Recharts** (React 친화적, 추천)
  - 옵션 2: Chart.js + react-chartjs-2
  - 옵션 3: D3.js (고급 기능, 학습 곡선 높음)

- [ ] Analysis 페이지 기본 구조 생성
  - `/analysis` 라우트 활성화
  - 탭 구조 (판매 분석 / 상품 분석 / 결제 분석)

- [ ] 판매 분석 차트
  - [ ] 일별 매출 추이 (Line Chart)
    - 날짜 범위 선택 (최근 7일/30일/90일/전체)
    - X축: 날짜, Y축: 매출액
  - [ ] 주별 매출 추이 (Bar Chart)
  - [ ] 월별 매출 추이 (Bar Chart)
  - [ ] 통계 카드 (총 매출, 평균 매출, 최대/최소 매출)

- [ ] 상품 분석 차트
  - [ ] 인기 상품 TOP 20 (Bar Chart)
    - 판매량 기준
    - 매출액 기준 (선택 가능)
  - [ ] 재고 회전율 분석
    - 판매량 / 평균 재고
  - [ ] 재고 부족 상품 목록

- [ ] 결제 분석 차트
  - [ ] 결제수단별 매출 비중 (Pie Chart)
    - 현금, 카드, 현금영수증, 간편결제
  - [ ] 결제수단별 월별 추이 (Stacked Bar Chart)
  - [ ] 카드사별 매출 현황
  - [ ] 간편결제사별 매출 현황

- [ ] 정산 분석 차트
  - [ ] 업체별 정산 금액 (Bar Chart)
  - [ ] 월별 수수료 추이 (Line Chart)
  - [ ] 정산 상태 현황 (대기/완료)

### 데이터베이스 쿼리 최적화
- [ ] 집계 쿼리 작성
  - 일별 매출 집계
  - 상품별 판매량 집계
  - 결제수단별 매출 집계
- [ ] 인덱스 추가 (필요시)
- [ ] 캐싱 전략 (React Query 도입 검토)

---

## 📊 2순위: 엑셀 다운로드 기능
**예상 소요**: 3-5일
**난이도**: 중
**중요도**: ⭐⭐⭐⭐

### 할 일
- [ ] xlsx 라이브러리 활용 (이미 설치됨)

- [ ] 판매 데이터 엑셀 다운로드
  - [ ] 현재 필터링된 목록 다운로드
  - [ ] 전체 데이터 다운로드 옵션
  - [ ] 컬럼 선택 기능 (선택사항)
  - [ ] 파일명: `판매데이터_YYYYMMDD.xlsx`

- [ ] 상품 목록 엑셀 다운로드
  - [ ] 현재 검색/필터 적용된 목록
  - [ ] 재고 정보 포함
  - [ ] 파일명: `상품목록_YYYYMMDD.xlsx`

- [ ] 재고 변동 내역 엑셀 다운로드
  - [ ] 기간별 필터 적용
  - [ ] 입고/출고/조정 구분
  - [ ] 파일명: `재고변동_YYYYMMDD.xlsx`

- [ ] 정산 내역 엑셀 다운로드
  - [ ] 업체별 정산 정보
  - [ ] 수수료 계산 포함
  - [ ] 파일명: `정산내역_YYYYMMDD.xlsx`

- [ ] 공통 유틸리티 함수 작성
  - `src/utils/excelExport.ts` 생성
  - 날짜 포맷팅, 컬럼 매핑 함수

---

## 🔔 3순위: 알림 시스템
**예상 소요**: 5-7일
**난이도**: 중상
**중요도**: ⭐⭐⭐

### 할 일
- [ ] 알림 Context 생성
  - `src/contexts/NotificationContext.tsx`
  - 전역 알림 상태 관리

- [ ] 재고 부족 알림
  - [ ] 대시보드 상단 배너 (재고 부족 상품 수)
  - [ ] "N개 상품 재고 부족" 클릭 → 상품 페이지 이동
  - [ ] 색상: 노란색 경고

- [ ] 미정산 알림
  - [ ] 대기 중인 정산 건수 표시
  - [ ] "N건 정산 대기 중" 클릭 → 정산 페이지 이동
  - [ ] 색상: 파란색 정보

- [ ] 알림 센터 (선택사항)
  - [ ] Header에 벨 아이콘 추가
  - [ ] 클릭 시 드롭다운 알림 목록
  - [ ] 알림 읽음/삭제 기능

- [ ] 알림 저장 (선택사항)
  - [ ] Supabase에 notifications 테이블 생성
  - [ ] 알림 내역 저장
  - [ ] 읽음 여부 추적

---

## 👤 4순위: 사용자 권한 관리 (장기)
**예상 소요**: 2-3주
**난이도**: 상
**중요도**: ⭐⭐

### 할 일
- [ ] Supabase Auth 설정
  - [ ] 이메일/비밀번호 로그인
  - [ ] 회원가입 비활성화 (관리자만 초대)

- [ ] 로그인 페이지 생성
  - `/login` 라우트
  - 이메일/비밀번호 폼

- [ ] 권한 시스템 설계
  - [ ] profiles 테이블 생성
    - user_id, role (admin/staff), name
  - [ ] RLS 정책 수정 (role 기반)

- [ ] 권한별 기능 제한
  - **관리자 (admin)**
    - 모든 기능 접근
    - 사용자 관리
    - 정산 완료 처리
  - **직원 (staff)**
    - 판매 데이터 등록
    - 재고 변동 기록
    - 상품 조회만 가능 (수정 불가)

- [ ] 작업 로그
  - [ ] audit_logs 테이블 생성
  - [ ] 중요 작업 자동 기록 (생성/수정/삭제)

---

## 🛠️ 5순위: 편의 기능
**예상 소요**: 각 1-3일
**난이도**: 하~중
**중요도**: ⭐

### 바코드 스캔 입력
- [ ] 바코드 스캔 라이브러리 조사
  - quagga2 (웹캠 스캔)
  - USB 바코드 스캐너 지원 (키보드 입력으로 처리)
- [ ] 상품 검색 바코드 입력 필드
- [ ] 판매 등록 바코드 스캔

### 재고 실사 기능
- [ ] 재고 실사 페이지 생성
- [ ] 예상 재고 vs 실제 재고 비교
- [ ] 차이 자동 조정 기능

### 백업/복구
- [ ] Supabase 백업 스크립트
- [ ] CSV 내보내기 (모든 테이블)
- [ ] 복구 가이드 문서

### 모바일 최적화
- [ ] 반응형 브레이크포인트 추가 (768px, 1024px)
- [ ] 모바일 네비게이션 (햄버거 메뉴)
- [ ] PWA 설정 (manifest.json, service worker)

---

## 🔧 기술 부채 및 리팩토링

### 코드 품질 개선
- [ ] ESLint 규칙 강화
  - no-console 제거 (프로덕션)
  - unused-vars 경고
- [ ] Prettier 추가 및 설정
- [ ] 타입 정의 개선 (any 제거)

### 성능 최적화
- [ ] React.memo 적용 (큰 컴포넌트)
- [ ] useMemo/useCallback 활용
- [ ] 이미지 lazy loading
- [ ] 코드 스플리팅 (React.lazy)

### 테스트 추가
- [ ] Vitest 설치
- [ ] 유틸리티 함수 단위 테스트
- [ ] 핵심 컴포넌트 테스트

### 개발 경험 개선
- [ ] Storybook 도입
- [ ] 컴포넌트 문서화
- [ ] Git Hooks (Husky)
  - pre-commit: lint-staged
  - commit-msg: commitlint

---

## 📅 작업 우선순위 정리

### 이번 주 (2025-11-03 ~ 2025-11-09)
1. ✅ 프로젝트 정리 및 문서화
2. 🎯 데이터 분석 페이지 시작
   - 차트 라이브러리 선택
   - 기본 구조 생성
   - 일별 매출 차트 구현

### 다음 주 (2025-11-10 ~ 2025-11-16)
1. 데이터 분석 페이지 완성
   - 상품 분석 차트
   - 결제 분석 차트
2. 엑셀 다운로드 기능 시작

### 다다음 주 (2025-11-17 ~ 2025-11-23)
1. 엑셀 다운로드 완성
2. 알림 시스템 시작

---

## 💡 제안사항

### 즉시 적용 가능
- [ ] README.md 업데이트 (프로젝트 소개, 설치 방법)
- [ ] .env.example 업데이트 (필요한 변수 명시)
- [ ] package.json scripts 추가
  - `npm run build` - 프로덕션 빌드
  - `npm run preview` - 빌드 미리보기
  - `npm run lint` - 코드 검사

### 장기 계획
- Git 리포지토리 생성 (GitHub/GitLab)
- CI/CD 파이프라인 (자동 배포)
- 도메인 연결 및 HTTPS 적용
- 데이터 백업 자동화

---

## 📝 작업 진행 방법

1. **TODO 항목 선택**
   - 위 로드맵에서 작업 선택

2. **작업 시작 전**
   - 해당 작업 파일에 체크리스트 작성
   - 예상 시간 기록

3. **작업 진행**
   - 작은 단위로 커밋 (Git 사용 시)
   - 테스트 및 확인

4. **작업 완료**
   - [ ] → [x] 체크 표시
   - PROGRESS_REPORT.md 업데이트
   - 다음 작업 시작

---

## 🎯 최종 목표

**완전 자동화된 재고관리 시스템**
- 실시간 재고 추적
- 자동 발주 제안
- 매출 예측 (AI)
- 모바일 앱 지원
- POS 연동

**예상 완성 시점**: 2025년 12월 말
